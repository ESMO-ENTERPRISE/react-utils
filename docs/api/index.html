<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">API | React-utils</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ESMO-ENTERPRISE.github.io/react-utils/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ESMO-ENTERPRISE.github.io/react-utils/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ESMO-ENTERPRISE.github.io/react-utils/docs/api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API | React-utils"><meta data-rh="true" name="description" content="createStore"><meta data-rh="true" property="og:description" content="createStore"><link data-rh="true" rel="icon" href="/react-utils/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ESMO-ENTERPRISE.github.io/react-utils/docs/api"><link data-rh="true" rel="alternate" href="https://ESMO-ENTERPRISE.github.io/react-utils/docs/api" hreflang="en"><link data-rh="true" rel="alternate" href="https://ESMO-ENTERPRISE.github.io/react-utils/docs/api" hreflang="x-default"><link rel="stylesheet" href="/react-utils/assets/css/styles.069fa4ad.css">
<link rel="preload" href="/react-utils/assets/js/runtime~main.9593c727.js" as="script">
<link rel="preload" href="/react-utils/assets/js/main.1e686456.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/react-utils/"><div class="navbar__logo"><img src="/react-utils/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/react-utils/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">React utils</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-utils/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ESMO-ENTERPRISE/react-utils" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-utils/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/react-utils/docs/category/state">State</a><button aria-label="Toggle the collapsible sidebar category &#x27;State&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/react-utils/docs/category/store">Store</a><button aria-label="Toggle the collapsible sidebar category &#x27;Store&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/react-utils/docs/category/i18n">I18n</a><button aria-label="Toggle the collapsible sidebar category &#x27;I18n&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/react-utils/docs/category/router">Router</a><button aria-label="Toggle the collapsible sidebar category &#x27;Router&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/react-utils/docs/category/forms">Forms</a><button aria-label="Toggle the collapsible sidebar category &#x27;Forms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/react-utils/docs/category/hooks">Hooks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hooks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-utils/docs/react-native">React Native</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/react-utils/docs/api">API</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/react-utils/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>API</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="createstore">createStore<a href="#createstore" class="hash-link" aria-label="Direct link to createStore" title="Direct link to createStore">​</a></h2><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> useStore </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">createStore</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initializer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  defaultDeps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  intercept</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onFirstSubscribe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onSubscribe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onUnsubscribe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onLastUnsubscribe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Inside component or custom hook</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">selectDeps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Parameters</strong></p><div class="[&amp;_ul]:text-sm"><ul><li><code>initializer</code> A function that returns an initial state</li><li><code>options?</code> (<em>optional</em>)<ul><li><code>defaultDeps</code> Set default reactivity (<a href="/react-utils/docs/store/introduction#set-default-reactivity">learn more</a>)</li><li><code>intercept</code> Intercept set state</li><li><code>onFirstSubscribe</code> Handle first subscribe event</li><li><code>onSubscribe</code> Handle subscribe event</li><li><code>onUnsubscribe</code> Handle unsubscribe event</li><li><code>onLastUnsubscribe</code> Handle last unsubscribe event</li></ul></li></ul></div><p><strong>Return Value</strong></p><div class="[&amp;_ul_ul]:text-sm"><ul><li><p><code>useStore()</code></p><ul><li><strong>Parameters</strong> (<em>optional</em>)<ul><li><code>selectDeps</code> Customize when to re-render</li></ul></li><li><strong>Return Value</strong><ul><li><code>state</code></li></ul></li></ul></li><li><p><strong>Methods</strong></p><ul><li><code>useStore.get</code> Get state</li><li><code>useStore.set</code> Set state</li><li><code>useStore.subscribe</code> Subscribe the store state</li><li><code>useStore.getSubscribers</code> Get store subscribers</li><li><code>useStore.setDefaultValues</code> Set default/initial values from inside a component (must be called inside component before it gets any subscribers)</li><li><code>useStore.Watch</code> A helper component that will watch the state changes (<a href="/react-utils/docs/store/watch-component">learn more</a>)</li></ul></li></ul></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="createstores">createStores<a href="#createstores" class="hash-link" aria-label="Direct link to createStores" title="Direct link to createStores">​</a></h2><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> useStores </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">createStores</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">TKey</span><span class="token generic-function generic class-name punctuation" style="color:#393A34">,</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initializer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">...</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Same as createStore options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hashKeyFn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onBeforeChangeKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onStoreInitialized</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Inside component or custom hook</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useStores</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">storeKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> selectDeps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useStores</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">selectDeps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Parameters</strong></p><div class="[&amp;_ul]:text-sm"><ul><li><code>initializer</code> A function that returns an initial single store state</li><li><code>options?</code> (<em>optional</em>)<ul><li><code>hashKeyFn</code> Custom function to transform the store key (object) into a hash string (<a href="/react-utils/docs/store/introduction#store-key">learn more</a>)</li><li><code>onBeforeChangeKey</code> Handle change key passed to the hook</li><li><code>onStoreInitialized</code> Handle single store state initialized event</li><li><em>... same as <code>useStore</code>&#x27;s</em></li></ul></li></ul></div><p><strong>Return Value</strong></p><div class="[&amp;_ul_ul]:text-sm"><ul><li><p><code>useStores()</code></p><ul><li><strong>Parameters</strong> (<em>optional</em>)<ul><li><code>storeKey</code> Choose which store state will be used (<a href="/react-utils/docs/store/introduction#store-key">learn more</a>)</li><li><code>selectDeps</code> Customize when to re-render</li></ul></li><li><strong>Return Value</strong><ul><li><code>state</code></li></ul></li></ul></li><li><p><strong>Methods</strong></p><ul><li><code>useStores.get</code> Get state of specific store (specific store key)</li><li><code>useStores.getAll</code> Get all stores state</li><li><code>useStores.getAllWithSubscriber</code> Get all stores state that has subscriber</li><li><code>useStores.set</code> Set state of specific store (specific store key)</li><li><code>useStores.setAll</code> Set all stores state</li><li><code>useStores.subscribe</code> Subscribe to a store state</li><li><code>useStores.getSubscribers</code> Get subscribers of a store state</li><li><code>useStores.getStore</code> Get a store</li><li><code>useStores.getStores</code> Get all stores</li><li><code>useStores.setDefaultValues</code> Set default/initial values from inside a component (must be called inside component before it gets any subscribers)</li><li><code>useStores.Watch</code> A helper component that will watch the state changes (<a href="/react-utils/docs/store/watch-component">learn more</a>)</li></ul></li></ul></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="queryprovider">QueryProvider<a href="#queryprovider" class="hash-link" aria-label="Direct link to QueryProvider" title="Direct link to QueryProvider">​</a></h2><p><code>QueryProvider</code> is a context provider for all components in which they are using library&#x27;s Hooks. Hooks that were not passed any <code>options</code> by library users, will gains the default <code>options</code> from this provider.</p><p><code>QueryProvider</code> accepts only two props called <code>options</code> and <code>children</code>. <code>options</code> accepts only <code>object</code> type. For example :</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">QueryProvider</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">options</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript spread operator" style="color:#393A34">...</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="optionss-properties"><code>options</code>&#x27;s properties<a href="#optionss-properties" class="hash-link" aria-label="Direct link to optionss-properties" title="Direct link to optionss-properties">​</a></h5><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>cacheTime</code></td><td><code>number</code></td><td><code>1000 * 60 * 5</code> (5 mins)</td><td>Set the cache time duration in milliseconds. If it has elapsed, the state data will then be set with empty data while the data is being fetched when the component mounts or on <code>queryKey</code> changes.</td></tr><tr><td><code>staleTime</code></td><td><code>number</code></td><td><code>1000 * 10</code> (10 secs)</td><td>Set the stale time duration in milliseconds. This will be used to determine whether the data is stale or not. When <code>staleTime</code> has elapsed, the component will be notified that the data is stale, i.e the component will be re-rendered. If the <code>staleTime</code> doesn&#x27;t elapse yet, fresh data that was caused by new network request of other Hooks with the same <code>queryKey</code> won&#x27;t be set to the current Hook.</td></tr><tr><td><code>keepCacheAlways</code></td><td><code>boolean</code></td><td><code>false</code></td><td>If set to <code>true</code>, the state data will always get from cache when initializing state. It takes precedence over <code>cacheTime</code>.</td></tr><tr><td><code>keepValueOnKeyChanges</code></td><td><code>boolean</code></td><td><code>true</code></td><td>When the <code>queryKey</code> changes, the data with previous key will always be shown. This is useful if we want users to see the screen with previous data until the data for the next screen is ready.</td></tr><tr><td><code>dataStayInSync</code></td><td><code>boolean</code></td><td><code>true</code></td><td>Use to determine whether the hook want to stay in sync when the data was changed (due to new network request) with the same <code>queryKey</code>.</td></tr><tr><td><code>autoFetchEnabled</code></td><td><code>boolean</code></td><td><code>true</code></td><td>Set to <code>false</code> if you want to manually fetch data. Typically use in dependent queries by toggling this property.</td></tr><tr><td><code>refetchOnWindowFocus</code></td><td><code>boolean</code></td><td><code>true</code></td><td>Set to <code>false</code> unless you want to fetch data when gains focus again after losing it. This can ensure that the app receives fresh data.</td></tr><tr><td><code>markUpdatesAsTransitions</code></td><td><code>boolean</code></td><td><code>false</code></td><td>Mark state updates as transition, i.e wrap state setter functions within the <code>startTransition</code> function. If the state update is not critical to the immediate rendering or user experience, you can consider setting to <code>true</code>.</td></tr><tr><td><code>offsetBottom</code></td><td><code>number</code></td><td><code>0</code></td><td>Set any value that can be converted to number. This option is useful when you want to fetch data before the scroll position reaches the bottom. Use with <code>useExperimentalInfiniteScrollDataQuery</code> Hook.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="typescript">TypeScript<a href="#typescript" class="hash-link" aria-label="Direct link to TypeScript" title="Direct link to TypeScript">​</a></h3><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Type parameter `T` for the shape of returned `data`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token generic-function function" style="color:#d73a49">useQuery</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queryKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fetcher</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// `MutatorInput` defines the shape of the argument passed to `mutate` and `onMutate` callback&#x27;s parameter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// `ReturnedData` defines the shape of the returned data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// `Context` defines the shape of callbacks&#x27;s parameter `onSuccess`, `onError`, and `onSettled`. `onMutate` callback should return the promise that resolve `Context` data type.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token generic-function function" style="color:#d73a49">useMutation</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">MutatorInput</span><span class="token generic-function generic class-name punctuation" style="color:#393A34">,</span><span class="token generic-function generic class-name"> ReturnedData</span><span class="token generic-function generic class-name punctuation" style="color:#393A34">,</span><span class="token generic-function generic class-name"> Context</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mutator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> callbacks</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Type parameter `T` for the shape of returned `data`. You DON&#x27;T NEED to define array type. Just need to define the shape of each item.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// For example, if you pass Color type argument, it will return like Color[][]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token generic-function function" style="color:#d73a49">useInfiniteQuery</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queryKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fetcher</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Same as `useInfiniteQuery` Hook.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token generic-function function" style="color:#d73a49">useExperimentalInfiniteScrollQuery</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dqueryKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fetcher</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  containerRef</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usequery">useQuery<a href="#usequery" class="hash-link" aria-label="Direct link to useQuery" title="Direct link to useQuery">​</a></h2><p><strong>Parameters</strong></p><ul><li><code>queryKey</code> - can be any type. Better avoid falsy values. This helps to keep the query in queue and cache. When this value changed, the new data has to be initialized, i.e the new network request will be initiated. You don&#x27;t need to worry about network request duplications as the library will internally handle it.</li><li><code>fetcher</code> - the function who initiates network request. Must return promise that will be resolved by the result of network request completion. For example:</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">fetcher</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">&#x27;url`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><code>context</code> is an object that contains <code>queryKey</code> and <code>param</code> properties. <code>param</code> can be of any type that is passed as the argument of <code>refetch</code> function returned by <code>useQuery</code>.
Note also that you should not try to catch network related error in <code>fetcher</code> function. <code>useQuery</code> will notify you whenever the error occurs.</p></blockquote><ul><li><p><code>options</code> - to override the <code>options</code> received from <code>QueryProvider</code>. You can also pass callback functions such as <code>onSuccess</code>, <code>onError</code>, <code>onSettled</code>, and <code>onMutated</code>.</p><ul><li><code>initialData</code> - initial data to return. It will be cached silently i.e other Hooks with same <code>queryKey</code> will not be notified when it is being cached. Please note that if the data with the same <code>queryKey</code> already exists in the cache, that cached data will return instead of <code>initialData</code>.</li><li><code>onSuccess(data)</code> - which will be invoked when network request successfully completed.</li><li><code>onError(reason)</code> - which will be invoked when network related error has occurred. All <code>onError</code> callbacks passed to library Hooks will not automatically be invoked on Server Error (HTTP statuses like <code>404</code>, <code>500</code>). You must explicitly throw it in your fetcher function.</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ok</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>onSettled(data, reason)</code> - which will be invoked whether or not succeeded or failed`.</li><li><code>onMutated(data)</code> - which will be invoked when you invoke <code>setQueryData</code> and <code>setQueriesData</code> functions returned from <code>useQueryMagic</code> Hook.</li></ul></li></ul><p><strong>Return Value</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>queryKey</code></td><td><code>any</code></td><td>the first argument of <code>useQuery</code> Hook</td></tr><tr><td><code>data</code></td><td><code>any</code></td><td>the value that resolved to the returned Promise of your fetcher function</td></tr><tr><td><code>error</code></td><td><code>any</code></td><td>The reason why error occurred</td></tr><tr><td><code>isLoading</code></td><td><code>boolean</code></td><td>Indicating whether the data is being fetched. <code>true</code> for only first time network request. But if you have disabled <code>keepValueOnKeyChanges</code>, this will be set to true if there is no cache for new <code>queryKey</code>.</td></tr><tr><td><code>isFetching</code></td><td><code>boolean</code></td><td>Indicating whether the data is being fetched. This will always be <code>true</code> on every network requests.</td></tr><tr><td><code>isSuccess</code></td><td><code>boolean</code></td><td>Indicating whether the data is successfully fetched.</td></tr><tr><td><code>isError</code></td><td><code>boolean</code></td><td>Indicating whether the network related error has occurred.</td></tr><tr><td><code>isStale</code></td><td><code>boolean</code></td><td>Indicating whether the data becomes stale or not. The component will be re-rendered when the data becomes stale.</td></tr><tr><td><code>refetch</code></td><td><code>function</code></td><td>A function to manually fetch data. When you call this function, the new network request will be initiated only if there is no already ongoing request with the same <code>queryKey</code>. When the data becomes available, the Hook will be notified with new data and update the <code>data</code> state with that new data.</td></tr><tr><td><code>forceRefetch</code></td><td><code>function</code></td><td>Unlike <code>refetch</code> function, this will cancel ongoing network request with the same <code>queryKey</code> and initiate the new network request.</td></tr></tbody></table><blockquote><p>Cancelling network request doesn&#x27;t actually cancel the request. It is just protecting from race conditions. However, future releases will actually cancel the network request by using <code>AbortController</code>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usemutation">useMutation<a href="#usemutation" class="hash-link" aria-label="Direct link to useMutation" title="Direct link to useMutation">​</a></h2><p><strong>Parameters</strong></p><ul><li><code>mutator</code> - a function to mutate remote data</li></ul><p><strong>Return Value</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>data</code></td><td>any <!-- -->|<!-- --> <code>null</code></td><td>Data that represents mutated data</td></tr><tr><td><code>error</code></td><td><code>Error</code> object</td><td>The reason why error occurred</td></tr><tr><td><code>isMutating</code></td><td><code>boolean</code></td><td>Indicating whether data is mutating</td></tr><tr><td><code>isSuccess</code></td><td><code>boolean</code></td><td>Indicating whether remote data is successfully mutated</td></tr><tr><td><code>isError</code></td><td><code>boolean</code></td><td>Indicating whether the error has occurred</td></tr><tr><td><code>mutate</code></td><td><code>function</code></td><td>It accepts one argument. When you call this function, it invokes <code>mutator</code> function with its argument. Before actual mutation, it invokes <code>onMutate</code> callback function first with its argument.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="useinfinitequery">useInfiniteQuery<a href="#useinfinitequery" class="hash-link" aria-label="Direct link to useInfiniteQuery" title="Direct link to useInfiniteQuery">​</a></h2><p><strong>Parameters</strong></p><ul><li><code>queryKey</code> - same as <code>useQuery</code>.</li><li><code>fetcher</code> - function who initiate network request.</li></ul><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">fetcher</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// extract pageParam from param</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> pageParam </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">param</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://...</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">pageParam</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>options</code> - to override default <code>options</code> received from <code>QueryProvider</code>. <code>autoFetchEnabled</code> and <code>refetchOnWindowFocus</code> are disabled. You can&#x27;t modify it. There are another two properties you need to pass. They are callback function : <code>getNextPageParam</code> and <code>getPrevPageParam</code>. <code>onSuccess</code>, <code>onError</code> and <code>onSettled</code> are optional.</li><li><code>getNextPageParam(lastPage, pages) </code> - This function will be used to determine <code>pageParam</code> for the next page and for the <code>hasNextPage</code> status. Return <code>undefined</code> if there is no more pages. Don&#x27;t rely on the number of invoked times as it will generally be invoked three times for one page. Will fix it in future releases.</li><li><code>getPrevPageParam(firstPage, pages)</code> - This function will be used to determine <code>pageParam</code> for the previous page and for the <code>hasPrevPage</code> status. Return <code>undefined</code> if there is no more pages. Don&#x27;t rely on the number of invoked times as it will generally be invoked three times for one page. Will fix it in future releases.</li><li><code>onReset(fetchPage</code>) - Will be invoked when you invoke <code>reset</code> function returned from <code>useInfiniteQuery</code>. Read more about <code>fetchPage</code> function below.</li></ul><p><strong>Return value</strong></p><p><strong>Return</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>data</code></td><td><code>array</code></td><td>an array of array that represent pages</td></tr><tr><td><code>error</code></td><td><code>Error</code></td><td>reason why error has occurred.</td></tr><tr><td><code>isFetching</code></td><td><code>boolean</code></td><td>Indicating whether the data is being fetched. This will always be <code>true</code> on every network requests.</td></tr><tr><td><code>isLoading</code></td><td><code>boolean</code></td><td>Indicating whether the data is being fetched. <code>true</code> for only first time network request. But if you have disabled <code>keepValueOnKeyChanges</code>, this will be set to true if there is no cache for new <code>queryKey</code>.</td></tr><tr><td><code>isFetchingNextPage</code></td><td><code>boolean</code></td><td>Indicating whether the data for the next page is being fetched.</td></tr><tr><td><code>isFetchingPrevPage</code></td><td><code>boolean</code></td><td>Indicating whether the data for the previous page is being fetched.</td></tr><tr><td><code>hasNextPage</code></td><td><code>boolean</code></td><td>Indicating whether the data for the next page exists.</td></tr><tr><td><code>hasPrevPage</code></td><td><code>boolean</code></td><td>Indicating whether the data for the previous page exists.</td></tr><tr><td><code>isError</code></td><td><code>boolean</code></td><td>Indicating whether the network related error has occurred.</td></tr><tr><td><code>fetchPage</code></td><td><code>function</code></td><td>Fetch specific page. It accepts one argument that will be passed as the <code>pageParam</code> property of <code>param</code> object which is the property of <code>context</code> object received in<code>fetcher</code> function.<br><br>If you invoke <code>fetchPage</code> function like this: <br> <code>fetchPage(2);</code><br><br> Your fetcher function will received it via <code>pageParam</code> property : <br> <code>const fetcher = ({param: { pageParam }) =&gt; {}</code></td></tr><tr><td><code>fetchNextPage</code></td><td><code>function</code></td><td>Fetch next page. Your <code>fetcher</code> function will received <code>pageParam</code> via <code>getNextPageParam</code> callback function which is passed as the property of <code>options</code> object.</td></tr><tr><td><code>fetchPrevPage</code></td><td><code>function</code></td><td>Fetch previous page. Your <code>fetcher</code> function will received <code>pageParam</code> via <code>getPrevPageParam</code> callback function which is passed as the property of <code>options</code> object.</td></tr><tr><td><code>reset</code></td><td><code>function</code></td><td>Clear cache and reset <code>data</code>. It will invoke <code>onReset</code> callback function passed as the property of <code>options</code> object.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="useexperimentalinfinitescrollquery">useExperimentalInfiniteScrollQuery<a href="#useexperimentalinfinitescrollquery" class="hash-link" aria-label="Direct link to useExperimentalInfiniteScrollQuery" title="Direct link to useExperimentalInfiniteScrollQuery">​</a></h2><p><strong>Parameters</strong></p><ul><li><code>queryKey</code> - same as <code>useInfiniteQuery</code></li><li><code>fetcher</code> - same as <code>useInfiniteQuery</code></li><li><code>containerRef</code> - ref created with <code>useRef</code> that is passed as the <code>ref</code> prop to the element.</li></ul><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> containeRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> queryInstance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useExperimentalInfiniteQuery</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  queryKey</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fetcher</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  containerRef</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//....</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//....</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">containerRef</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"> ... </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>options</code> - same as <code>useInfiniteQuery</code>. There is an extra option <code>offsetBottom</code> It can be set any value that can be converted to number. This option is useful when you want to fetch data before the scroll position reaches the bottom most part. It is used in calculation like <code>scrollTop + offsetBottom</code>.</li></ul><p><strong>Return Value</strong></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>data</code></td><td><code>array</code></td><td>an array of array that represent pages</td></tr><tr><td><code>hasNextPage</code></td><td><code>boolean</code></td><td>Indicating whether the data for the next page exists.</td></tr><tr><td><code>isLoading</code></td><td><code>boolean</code></td><td>Indicating whether the data is being fetched. <code>true</code> for only first time network request. But if you have disabled <code>keepValueOnKeyChanges</code>, this will be set to true if there is no cache for new <code>queryKey</code>.</td></tr><tr><td><code>isFetching</code></td><td><code>boolean</code></td><td>Indicating whether the data is being fetched. This will always be <code>true</code> on every network requests.</td></tr><tr><td><code>isFetchingNextPage</code></td><td><code>boolean</code></td><td>Indicating whether the data for the next page is being fetched.</td></tr><tr><td><code>reset</code></td><td><code>function</code></td><td>Clear cache and reset <code>data</code>. It will invoke <code>onReset</code> callback function passed as the property of <code>options</code> object.</td></tr><tr><td><code>fetchPage</code></td><td><code>function</code></td><td>Fetch specific page. It accepts one argument that will be passed as the <code>pageParam</code> property of <code>param</code> object which is the property of <code>context</code> object received in<code>fetcher</code> function.<br><br>If you invoke <code>fetchPage</code> function like this: <br> <code>fetchPage(2);</code><br><br> Your fetcher function will received it via <code>pageParam</code> property : <br> <code>const fetcher = ({param: { pageParam }) =&gt; {}</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usequerymagic">useQueryMagic<a href="#usequerymagic" class="hash-link" aria-label="Direct link to useQueryMagic" title="Direct link to useQueryMagic">​</a></h2><p><strong>No parameters</strong></p><br><p><strong>Return</strong></p><table><thead><tr><th>Function</th><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>setQueryData</code></td><td>(<code>queryKey</code>, <code>querySetter</code> )</td><td>Can be used to synchronize data across multiple Hooks with the same <code>queryKey</code>. <br><code>querySetter</code> can be of any type. If it is a function, that function will be invoked with the data from cache as argument and its return value will be used to set new data for all Hooks with the same <code>queryKey</code>. If is not a function, its value will be used like a returned value of the function.</td></tr><tr><td><code>setQueriesData</code></td><td>(<code>dataQueries</code>)</td><td>Can be used to synchronize multiple data with just one function. <br> <code>dataQueries</code> is an array of <code>dataQuery</code> objects in which must contain <code>queryKey</code>and <code>querySetter</code> properties just like the argument of <code>setQueryData</code> function.</td></tr><tr><td><code>getQueryData</code></td><td>(<code>queryKey</code>)</td><td>Can be used to get data from cache with the same <code>queryKey</code>.</td></tr><tr><td><code>getQueriesData</code></td><td>(<code>queryKeys</code>)</td><td>Get more than one data according to the order list of <code>queryKeys</code>. <br> <code>queryKeys</code> is an array of <code>queryKey</code>.</td></tr><tr><td><code>cancelQuery</code></td><td>(<code>queryKey</code>)</td><td>Cancel ongoing network request with the same <code>queryKey</code>. It is an <code>async</code> function.</td></tr><tr><td><code>clearCacheData</code></td><td>(<code>queryKey</code>)</td><td>Remove cache data associated with your <code>queryKey</code>.</td></tr><tr><td><code>clearAllCachesData</code></td><td>( )</td><td>Clear all cache data.</td></tr><tr><td><code>invalidateQuery</code></td><td>(<code>queryKey</code>)</td><td>Invalidate the data from cache, i.e the new network request will be initiated if there is no already ongoing network request associated with same <code>queryKey</code>. Whether or not network request is initiated within the Hook, its status will be updated. such as <code>isFetching</code>: <code>true</code>.</td></tr><tr><td><code>invalidateQueries</code></td><td>(<code>queryKeys</code>)</td><td>Invalidate all data associated with each <code>queryKey</code> of <code>queryKeys</code> array.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ESMO-ENTERPRISE/react-utils/tree/main/docs/api.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/react-utils/docs/react-native"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">React Native</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#createstore" class="table-of-contents__link toc-highlight">createStore</a></li><li><a href="#createstores" class="table-of-contents__link toc-highlight">createStores</a></li><li><a href="#queryprovider" class="table-of-contents__link toc-highlight">QueryProvider</a><ul><li><a href="#typescript" class="table-of-contents__link toc-highlight">TypeScript</a></li></ul></li><li><a href="#usequery" class="table-of-contents__link toc-highlight">useQuery</a></li><li><a href="#usemutation" class="table-of-contents__link toc-highlight">useMutation</a></li><li><a href="#useinfinitequery" class="table-of-contents__link toc-highlight">useInfiniteQuery</a></li><li><a href="#useexperimentalinfinitescrollquery" class="table-of-contents__link toc-highlight">useExperimentalInfiniteScrollQuery</a></li><li><a href="#usequerymagic" class="table-of-contents__link toc-highlight">useQueryMagic</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/react-utils/docs/intro">Docs</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 React-utils, ESMO. Built with Docusaurus with love.</div></div></div></footer></div>
<script src="/react-utils/assets/js/runtime~main.9593c727.js"></script>
<script src="/react-utils/assets/js/main.1e686456.js"></script>
</body>
</html>